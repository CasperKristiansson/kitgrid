---
/* eslint-disable astro/no-set-html-directive */
interface Props {
  data?: Record<string, unknown> | Array<unknown>;
}

const { data } = Astro.props as Props;
const payload = data ?? {};
const json = JSON.stringify(payload);
const sanitizedJson = json
  .replace(/</g, '\\u003c')
  .replace(/>/g, '\\u003e')
  .replace(/\u2028/g, '\\u2028')
  .replace(/\u2029/g, '\\u2029');
---

<script type="application/ld+json" is:inline set:html={sanitizedJson} />
