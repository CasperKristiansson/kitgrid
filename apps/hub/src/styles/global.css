@import './fonts.css';
@source '../**/*.{astro,md,mdx,ts,tsx}';
@source '../../../../packages/docs-ui/src/**/*.{astro,md,mdx,ts,tsx}';
@import 'tailwindcss';
@plugin "daisyui";

@theme {
  --font-sans:
    'Instrument Sans', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', sans-serif;
  --font-mono:
    'JetBrains Mono', 'SFMono-Regular', Menlo, Monaco, Consolas, 'Liberation Mono',
    monospace;
}

@layer base {
  :root {
    color-scheme: dark;
    --theme-primary: #60a5fa;
    --theme-secondary: #f472b6;
    --theme-bg: #0b0f16;
    --theme-surface: #101627;
    --theme-text: #e6ebf2;
    --theme-muted: #8ea2c1;
    --theme-link: #6ee7f9;
    --theme-code: #1e293b;
    --motion-scale: 1;
    --anim-duration: calc(220ms * var(--motion-scale));
  }

  body {
    background-color: var(--theme-bg);
    color: var(--theme-text);
    min-height: 100vh;
    font-family: var(--font-sans);
    letter-spacing: -0.01em;
    transition:
      background-color 200ms ease,
      color 200ms ease;
  }

  ::selection {
    background-color: var(--theme-primary);
    color: #030712;
  }

  [data-theme='kitgrid'] {
    --theme-primary: #60a5fa;
    --theme-secondary: #f472b6;
    --theme-bg: #0b0f16;
    --theme-surface: #101627;
    --theme-text: #e6ebf2;
    --theme-muted: #8ea2c1;
    --theme-link: #6ee7f9;
    --theme-code: #1e293b;
    --motion-scale: 1;
    --p: var(--theme-primary);
    --pc: #030712;
    --s: var(--theme-secondary);
    --sc: #04121f;
    --b1: var(--theme-bg);
    --b2: var(--theme-surface);
    --bc: var(--theme-text);
  }

  [data-theme='pydantic-fixturegen'] {
    --theme-primary: #14b8a6;
    --theme-secondary: #67e8f9;
    --theme-bg: #0a0f14;
    --theme-surface: #0f1722;
    --theme-text: #e5f4f1;
    --theme-muted: #9ac7c0;
    --theme-link: #2dd4bf;
    --theme-code: #042f2e;
    --motion-scale: 0.9;
    --p: var(--theme-primary);
    --pc: #031915;
    --s: var(--theme-secondary);
    --sc: #05121f;
    --b1: var(--theme-bg);
    --b2: var(--theme-surface);
    --bc: var(--theme-text);
  }

  [data-theme='docs-playground'] {
    --theme-primary: #f472b6;
    --theme-secondary: #a78bfa;
    --theme-bg: #0f0c1f;
    --theme-surface: #17112e;
    --theme-text: #f4f2ff;
    --theme-muted: #bbb1e8;
    --theme-link: #c084fc;
    --theme-code: #1c1330;
    --motion-scale: 1.1;
    --p: var(--theme-primary);
    --pc: #2a091c;
    --s: var(--theme-secondary);
    --sc: #120f2b;
    --b1: var(--theme-bg);
    --b2: var(--theme-surface);
    --bc: var(--theme-text);
  }

  [data-theme='python-version-patch-pr'] {
    --theme-primary: #0b5fff;
    --theme-secondary: #1f2937;
    --theme-bg: #ffffff;
    --theme-surface: #f3f4f6;
    --theme-text: #0f172a;
    --theme-muted: #6b7280;
    --theme-link: #0b5fff;
    --theme-code: #0f172a;
    --motion-scale: 0.9;
    --p: var(--theme-primary);
    --pc: #041137;
    --s: var(--theme-secondary);
    --sc: #f1f5f9;
    --b1: var(--theme-bg);
    --b2: var(--theme-surface);
    --bc: var(--theme-text);
  }

  pre,
  code {
    background-color: var(--theme-code);
    color: var(--theme-text);
    border-radius: 0.5rem;
    padding: 0.25rem 0.5rem;
    font-family: var(--font-mono);
  }

  .pill {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.25rem 0.85rem;
    border-radius: 999px;
    border: 1px solid rgba(244, 114, 182, 0.35);
    color: var(--theme-secondary);
    font-size: 0.65rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
  }

  .reveal {
    opacity: 0;
    transform: translateY(12px);
    animation: fade-up var(--anim-duration) ease forwards;
  }

  .reveal-delay {
    animation-delay: calc(var(--anim-duration) / 2);
  }

  .link-underline {
    position: relative;
  }

  .link-underline::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -2px;
    width: 100%;
    height: 1px;
    background: var(--theme-link);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 200ms ease;
  }

  .link-underline:hover::after,
  .link-underline:focus-visible::after {
    transform: scaleX(1);
  }

  .cta-shimmer {
    position: relative;
    overflow: hidden;
  }

  .cta-shimmer::after {
    content: '';
    position: absolute;
    inset: -150%;
    background: linear-gradient(
      120deg,
      transparent 30%,
      rgba(255, 255, 255, 0.4),
      transparent 70%
    );
    transform: translateX(-100%);
    animation: shimmer calc(1200ms * var(--motion-scale)) ease-in-out infinite;
  }

  @keyframes fade-up {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .reveal,
    .reveal-delay,
    .cta-shimmer::after {
      animation: none !important;
    }

    body,
    .link-underline::after {
      transition: none !important;
    }
  }
}
